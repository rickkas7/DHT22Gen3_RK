<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DHT22Gen3_RK: DHT22Gen3 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DHT22Gen3_RK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">DHT22Gen3 Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class for interfacing with one or more DHT22 sensors on a Gen3 Particle device.  
 <a href="class_d_h_t22_gen3.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_d_h_t22_gen3___r_k_8h_source.html">DHT22Gen3_RK.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aa942c29b7b8a0fc3a62db4acb93e4022"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#aa942c29b7b8a0fc3a62db4acb93e4022">State</a> { <a class="el" href="class_d_h_t22_gen3.html#aa942c29b7b8a0fc3a62db4acb93e4022a99f6119cc3f53c36a5ef3b8520dfc36b">State::IDLE_STATE</a>, 
<a class="el" href="class_d_h_t22_gen3.html#aa942c29b7b8a0fc3a62db4acb93e4022a0c25cfe69d2af579d459e17e56f5afd9">State::START_STATE</a>, 
<a class="el" href="class_d_h_t22_gen3.html#aa942c29b7b8a0fc3a62db4acb93e4022a7bc83b3600e373a7e3ed43129df83181">State::SEND_START_STATE</a>, 
<a class="el" href="class_d_h_t22_gen3.html#aa942c29b7b8a0fc3a62db4acb93e4022ae9d534840c392b53c6ddd03fa603dcbe">State::SAMPLING_STATE</a>
 }</td></tr>
<tr class="memdesc:aa942c29b7b8a0fc3a62db4acb93e4022"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration for possible states for the Finite State Machine.  <a href="class_d_h_t22_gen3.html#aa942c29b7b8a0fc3a62db4acb93e4022">More...</a><br /></td></tr>
<tr class="separator:aa942c29b7b8a0fc3a62db4acb93e4022"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad74a0db280956e126c22f7dc9f516073"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#ad74a0db280956e126c22f7dc9f516073">DHT22Gen3</a> (pin_t <a class="el" href="class_d_h_t22_gen3.html#a1aae069622ba11122fb6f48c7168499d">unusedPin1</a>, pin_t <a class="el" href="class_d_h_t22_gen3.html#a59b1da5490781863103c2ebb001367c4">unusedPin2</a>)</td></tr>
<tr class="memdesc:ad74a0db280956e126c22f7dc9f516073"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the <a class="el" href="class_d_h_t22_gen3.html" title="Class for interfacing with one or more DHT22 sensors on a Gen3 Particle device. ">DHT22Gen3</a> driver.  <a href="#ad74a0db280956e126c22f7dc9f516073">More...</a><br /></td></tr>
<tr class="separator:ad74a0db280956e126c22f7dc9f516073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad929bdc5f116721b2d58dbd23db4ed91"><td class="memItemLeft" align="right" valign="top"><a id="ad929bdc5f116721b2d58dbd23db4ed91"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#ad929bdc5f116721b2d58dbd23db4ed91">setup</a> ()</td></tr>
<tr class="memdesc:ad929bdc5f116721b2d58dbd23db4ed91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call from <a class="el" href="class_d_h_t22_gen3.html#ad929bdc5f116721b2d58dbd23db4ed91" title="Call from setup() to initialize the driver. ">setup()</a> to initialize the driver. <br /></td></tr>
<tr class="separator:ad929bdc5f116721b2d58dbd23db4ed91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb2b3630acd2f0f5541db252bb0998cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#abb2b3630acd2f0f5541db252bb0998cf">loop</a> ()</td></tr>
<tr class="memdesc:abb2b3630acd2f0f5541db252bb0998cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call from <a class="el" href="class_d_h_t22_gen3.html#abb2b3630acd2f0f5541db252bb0998cf" title="Call from loop(), preferably every call to loop. ">loop()</a>, preferably every call to loop.  <a href="#abb2b3630acd2f0f5541db252bb0998cf">More...</a><br /></td></tr>
<tr class="separator:abb2b3630acd2f0f5541db252bb0998cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96748e2e25e40480120ba3bd9ddf04f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#a96748e2e25e40480120ba3bd9ddf04f1">getSample</a> (pin_t <a class="el" href="class_d_h_t22_gen3.html#ac20685fb0a56176ff7ce4550810e5c5b">dhtPin</a>, std::function&lt; void(<a class="el" href="class_d_h_t_sample.html">DHTSample</a>)&gt; <a class="el" href="class_d_h_t22_gen3.html#ae2cdff3947b28600c6b3756789642012">completion</a>, <a class="el" href="class_d_h_t_sensor_type.html">DHTSensorType</a> *<a class="el" href="class_d_h_t22_gen3.html#ab9189a7362b8d102c2c57c88988a09bd">sensorType</a>=&amp;<a class="el" href="class_d_h_t22_gen3.html#a17e6275dc5b44c7b50a5269a65d31012">sensorTypeDHT22</a>)</td></tr>
<tr class="memdesc:a96748e2e25e40480120ba3bd9ddf04f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a sample on the specified pin.  <a href="#a96748e2e25e40480120ba3bd9ddf04f1">More...</a><br /></td></tr>
<tr class="separator:a96748e2e25e40480120ba3bd9ddf04f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad59681fc8c904d1c47c3f3ff25ce2a08"><td class="memItemLeft" align="right" valign="top"><a id="ad59681fc8c904d1c47c3f3ff25ce2a08"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#ad59681fc8c904d1c47c3f3ff25ce2a08">canGetSample</a> () const</td></tr>
<tr class="memdesc:ad59681fc8c904d1c47c3f3ff25ce2a08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if you can call <a class="el" href="class_d_h_t22_gen3.html#a96748e2e25e40480120ba3bd9ddf04f1" title="Get a sample on the specified pin. ">getSample()</a>. Returns false if another call is still in progress. <br /></td></tr>
<tr class="separator:ad59681fc8c904d1c47c3f3ff25ce2a08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33eb95f82cec5fb8f42dd85f28e5d4d1"><td class="memItemLeft" align="right" valign="top"><a id="a33eb95f82cec5fb8f42dd85f28e5d4d1"></a>
<a class="el" href="class_d_h_t_sample.html">DHTSample</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#a33eb95f82cec5fb8f42dd85f28e5d4d1">getLastResult</a> () const</td></tr>
<tr class="memdesc:a33eb95f82cec5fb8f42dd85f28e5d4d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the last result if you want to poll instead of use the completion function. <br /></td></tr>
<tr class="separator:a33eb95f82cec5fb8f42dd85f28e5d4d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae170e4f3b5b711c571bdac6eda6b2caf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_d_h_t22_gen3.html">DHT22Gen3</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#ae170e4f3b5b711c571bdac6eda6b2caf">withMaxTries</a> (int tries)</td></tr>
<tr class="memdesc:ae170e4f3b5b711c571bdac6eda6b2caf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of attempts to get a valid result (passes checksum). Default is 4.  <a href="#ae170e4f3b5b711c571bdac6eda6b2caf">More...</a><br /></td></tr>
<tr class="separator:ae170e4f3b5b711c571bdac6eda6b2caf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a4703da0161d456f0f49acf9b73656c4f"><td class="memItemLeft" align="right" valign="top"><a id="a4703da0161d456f0f49acf9b73656c4f"></a>
static <a class="el" href="class_d_h_t_sensor_type_d_h_t11.html">DHTSensorTypeDHT11</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#a4703da0161d456f0f49acf9b73656c4f">sensorTypeDHT11</a></td></tr>
<tr class="memdesc:a4703da0161d456f0f49acf9b73656c4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pass a pointer to sensorTypeDHT11 to getSamples() for DHT11 sensors. <br /></td></tr>
<tr class="separator:a4703da0161d456f0f49acf9b73656c4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17e6275dc5b44c7b50a5269a65d31012"><td class="memItemLeft" align="right" valign="top"><a id="a17e6275dc5b44c7b50a5269a65d31012"></a>
static <a class="el" href="class_d_h_t_sensor_type_d_h_t22.html">DHTSensorTypeDHT22</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#a17e6275dc5b44c7b50a5269a65d31012">sensorTypeDHT22</a></td></tr>
<tr class="memdesc:a17e6275dc5b44c7b50a5269a65d31012"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pass a pointer to sensorTypeDHT22 to getSamples() for DHT22 sensors. This is the default. <br /></td></tr>
<tr class="separator:a17e6275dc5b44c7b50a5269a65d31012"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ae99ec1eb68397af337f9833feaa3ec9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#ae99ec1eb68397af337f9833feaa3ec9c">callCompletion</a> (<a class="el" href="class_d_h_t_sample.html#a1f0a1d3f8c166fb339a0096f2e4109c5">DHTSample::SampleResult</a> sampleResult)</td></tr>
<tr class="memdesc:ae99ec1eb68397af337f9833feaa3ec9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used internally to call the completion handler.  <a href="#ae99ec1eb68397af337f9833feaa3ec9c">More...</a><br /></td></tr>
<tr class="separator:ae99ec1eb68397af337f9833feaa3ec9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a1aae069622ba11122fb6f48c7168499d"><td class="memItemLeft" align="right" valign="top"><a id="a1aae069622ba11122fb6f48c7168499d"></a>
pin_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#a1aae069622ba11122fb6f48c7168499d">unusedPin1</a></td></tr>
<tr class="memdesc:a1aae069622ba11122fb6f48c7168499d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pin to output SCK (not used by DHT22, but unfortunately required by I2S) <br /></td></tr>
<tr class="separator:a1aae069622ba11122fb6f48c7168499d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59b1da5490781863103c2ebb001367c4"><td class="memItemLeft" align="right" valign="top"><a id="a59b1da5490781863103c2ebb001367c4"></a>
pin_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#a59b1da5490781863103c2ebb001367c4">unusedPin2</a></td></tr>
<tr class="memdesc:a59b1da5490781863103c2ebb001367c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pin to output LRCK (not used by DHT22, but unfortunately required by I2S) <br /></td></tr>
<tr class="separator:a59b1da5490781863103c2ebb001367c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac20685fb0a56176ff7ce4550810e5c5b"><td class="memItemLeft" align="right" valign="top"><a id="ac20685fb0a56176ff7ce4550810e5c5b"></a>
pin_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#ac20685fb0a56176ff7ce4550810e5c5b">dhtPin</a> = 0</td></tr>
<tr class="memdesc:ac20685fb0a56176ff7ce4550810e5c5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pin to communicate with DHT22. Set by <a class="el" href="class_d_h_t22_gen3.html#a96748e2e25e40480120ba3bd9ddf04f1" title="Get a sample on the specified pin. ">getSample()</a> <br /></td></tr>
<tr class="separator:ac20685fb0a56176ff7ce4550810e5c5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9189a7362b8d102c2c57c88988a09bd"><td class="memItemLeft" align="right" valign="top"><a id="ab9189a7362b8d102c2c57c88988a09bd"></a>
<a class="el" href="class_d_h_t_sensor_type.html">DHTSensorType</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#ab9189a7362b8d102c2c57c88988a09bd">sensorType</a> = &amp;<a class="el" href="class_d_h_t22_gen3.html#a17e6275dc5b44c7b50a5269a65d31012">sensorTypeDHT22</a></td></tr>
<tr class="memdesc:ab9189a7362b8d102c2c57c88988a09bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sensor type, optional parameter to <a class="el" href="class_d_h_t22_gen3.html#a96748e2e25e40480120ba3bd9ddf04f1" title="Get a sample on the specified pin. ">getSample()</a>;. <br /></td></tr>
<tr class="separator:ab9189a7362b8d102c2c57c88988a09bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdbe1a9453f7261ee84b0bb6642b82b3"><td class="memItemLeft" align="right" valign="top"><a id="abdbe1a9453f7261ee84b0bb6642b82b3"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#abdbe1a9453f7261ee84b0bb6642b82b3">lastRequestTime</a> = 0</td></tr>
<tr class="memdesc:abdbe1a9453f7261ee84b0bb6642b82b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">millis() value at last request. Used to prevent querying more often than minSamplePeriodMs (2 seconds) <br /></td></tr>
<tr class="separator:abdbe1a9453f7261ee84b0bb6642b82b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace27ad838fc2e107c40d9dcee8345a9a"><td class="memItemLeft" align="right" valign="top"><a id="ace27ad838fc2e107c40d9dcee8345a9a"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#ace27ad838fc2e107c40d9dcee8345a9a">stateTime</a> = 0</td></tr>
<tr class="memdesc:ace27ad838fc2e107c40d9dcee8345a9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">millis() value used with state transitions <br /></td></tr>
<tr class="separator:ace27ad838fc2e107c40d9dcee8345a9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e25715a03986f53c1233cd57a728b8c"><td class="memItemLeft" align="right" valign="top"><a id="a6e25715a03986f53c1233cd57a728b8c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#a6e25715a03986f53c1233cd57a728b8c">maxTries</a> = 4</td></tr>
<tr class="memdesc:a6e25715a03986f53c1233cd57a728b8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of retries on checksum values. Default is 4. Each retry takes 2.5 seconds. <br /></td></tr>
<tr class="separator:a6e25715a03986f53c1233cd57a728b8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe1dcc66814c64b7b1fc9cb2637c2485"><td class="memItemLeft" align="right" valign="top"><a id="abe1dcc66814c64b7b1fc9cb2637c2485"></a>
<a class="el" href="class_d_h_t22_gen3.html#aa942c29b7b8a0fc3a62db4acb93e4022">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#abe1dcc66814c64b7b1fc9cb2637c2485">state</a> = <a class="el" href="class_d_h_t22_gen3.html#aa942c29b7b8a0fc3a62db4acb93e4022a99f6119cc3f53c36a5ef3b8520dfc36b">State::IDLE_STATE</a></td></tr>
<tr class="memdesc:abe1dcc66814c64b7b1fc9cb2637c2485"><td class="mdescLeft">&#160;</td><td class="mdescRight">State of the finite state machine. <br /></td></tr>
<tr class="separator:abe1dcc66814c64b7b1fc9cb2637c2485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbf27773830108747768c1d053308145"><td class="memItemLeft" align="right" valign="top"><a id="abbf27773830108747768c1d053308145"></a>
<a class="el" href="class_d_h_t_sample.html">DHTSample</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#abbf27773830108747768c1d053308145">result</a></td></tr>
<tr class="memdesc:abbf27773830108747768c1d053308145"><td class="mdescLeft">&#160;</td><td class="mdescRight">Result that will be passed to the callback (by value) <br /></td></tr>
<tr class="separator:abbf27773830108747768c1d053308145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2cdff3947b28600c6b3756789642012"><td class="memItemLeft" align="right" valign="top"><a id="ae2cdff3947b28600c6b3756789642012"></a>
std::function&lt; void(<a class="el" href="class_d_h_t_sample.html">DHTSample</a>)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_d_h_t22_gen3.html#ae2cdff3947b28600c6b3756789642012">completion</a> = 0</td></tr>
<tr class="memdesc:ae2cdff3947b28600c6b3756789642012"><td class="mdescLeft">&#160;</td><td class="mdescRight">Completion handler function or lambda. Set by <a class="el" href="class_d_h_t22_gen3.html#a96748e2e25e40480120ba3bd9ddf04f1" title="Get a sample on the specified pin. ">getSample()</a>. May be 0. <br /></td></tr>
<tr class="separator:ae2cdff3947b28600c6b3756789642012"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class for interfacing with one or more DHT22 sensors on a Gen3 Particle device. </p>
<p>Only allocate one of these, typically as a global variable, per device.</p>
<p>Be sure to call the <a class="el" href="class_d_h_t22_gen3.html#ad929bdc5f116721b2d58dbd23db4ed91" title="Call from setup() to initialize the driver. ">setup()</a> and <a class="el" href="class_d_h_t22_gen3.html#abb2b3630acd2f0f5541db252bb0998cf" title="Call from loop(), preferably every call to loop. ">loop()</a> methods from the actual setup and loop. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="aa942c29b7b8a0fc3a62db4acb93e4022"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa942c29b7b8a0fc3a62db4acb93e4022">&#9670;&nbsp;</a></span>State</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_d_h_t22_gen3.html#aa942c29b7b8a0fc3a62db4acb93e4022">DHT22Gen3::State</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enumeration for possible states for the Finite State Machine. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa942c29b7b8a0fc3a62db4acb93e4022a99f6119cc3f53c36a5ef3b8520dfc36b"></a>IDLE_STATE&#160;</td><td class="fielddoc"><p>Idle, can call <a class="el" href="class_d_h_t22_gen3.html#a96748e2e25e40480120ba3bd9ddf04f1" title="Get a sample on the specified pin. ">getSample()</a> </p>
</td></tr>
<tr><td class="fieldname"><a id="aa942c29b7b8a0fc3a62db4acb93e4022a0c25cfe69d2af579d459e17e56f5afd9"></a>START_STATE&#160;</td><td class="fielddoc"><p>Getting ready to get a sample. </p>
</td></tr>
<tr><td class="fieldname"><a id="aa942c29b7b8a0fc3a62db4acb93e4022a7bc83b3600e373a7e3ed43129df83181"></a>SEND_START_STATE&#160;</td><td class="fielddoc"><p>Sending the start bit and starting the I2S peripheral. </p>
</td></tr>
<tr><td class="fieldname"><a id="aa942c29b7b8a0fc3a62db4acb93e4022ae9d534840c392b53c6ddd03fa603dcbe"></a>SAMPLING_STATE&#160;</td><td class="fielddoc"><p>Capturing samples. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad74a0db280956e126c22f7dc9f516073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad74a0db280956e126c22f7dc9f516073">&#9670;&nbsp;</a></span>DHT22Gen3()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DHT22Gen3::DHT22Gen3 </td>
          <td>(</td>
          <td class="paramtype">pin_t&#160;</td>
          <td class="paramname"><em>unusedPin1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pin_t&#160;</td>
          <td class="paramname"><em>unusedPin2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the <a class="el" href="class_d_h_t22_gen3.html" title="Class for interfacing with one or more DHT22 sensors on a Gen3 Particle device. ">DHT22Gen3</a> driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unusedPin1</td><td>An unused GPIO pin to use for SCK. It's unfortunate, but for the I2S peripheral to work, SCK must be mapped to a valid pin. It will be set to output and there will be 512 KHz signal output on this pin.</td></tr>
    <tr><td class="paramname">unusedPin2</td><td>An unused GPIO pin to use for LRCK. It's unfortunate, but for the I2S peripheral to work, LRCK must be mapped to a valid pin. It will be set to output and there will be 32 KHz signal output on this pin. It must be a different pin than unusedPin1.</td></tr>
  </table>
  </dd>
</dl>
<ul>
<li>You will often allocate this object as a global variable.</li>
<li>There can only be one per device.</li>
<li>Make sure you call <a class="el" href="class_d_h_t22_gen3.html#ad929bdc5f116721b2d58dbd23db4ed91" title="Call from setup() to initialize the driver. ">setup()</a> and <a class="el" href="class_d_h_t22_gen3.html#abb2b3630acd2f0f5541db252bb0998cf" title="Call from loop(), preferably every call to loop. ">loop()</a> methods from your actual <a class="el" href="class_d_h_t22_gen3.html#ad929bdc5f116721b2d58dbd23db4ed91" title="Call from setup() to initialize the driver. ">setup()</a> and <a class="el" href="class_d_h_t22_gen3.html#abb2b3630acd2f0f5541db252bb0998cf" title="Call from loop(), preferably every call to loop. ">loop()</a>! </li>
</ul>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae99ec1eb68397af337f9833feaa3ec9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae99ec1eb68397af337f9833feaa3ec9c">&#9670;&nbsp;</a></span>callCompletion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DHT22Gen3::callCompletion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_d_h_t_sample.html#a1f0a1d3f8c166fb339a0096f2e4109c5">DHTSample::SampleResult</a>&#160;</td>
          <td class="paramname"><em>sampleResult</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used internally to call the completion handler. </p>
<p>Goes into IDLE state after calling the completion </p>

</div>
</div>
<a id="a96748e2e25e40480120ba3bd9ddf04f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96748e2e25e40480120ba3bd9ddf04f1">&#9670;&nbsp;</a></span>getSample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DHT22Gen3::getSample </td>
          <td>(</td>
          <td class="paramtype">pin_t&#160;</td>
          <td class="paramname"><em>dhtPin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void(<a class="el" href="class_d_h_t_sample.html">DHTSample</a>)&gt;&#160;</td>
          <td class="paramname"><em>completion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_d_h_t_sensor_type.html">DHTSensorType</a> *&#160;</td>
          <td class="paramname"><em>sensorType</em> = <code>&amp;<a class="el" href="class_d_h_t22_gen3.html#a17e6275dc5b44c7b50a5269a65d31012">sensorTypeDHT22</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a sample on the specified pin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dhtPin</td><td>The pin the sensor is connected to (A0, A1, ..., D0, D1, ...) can also use special pins when the port is not being use, for example, TX, RX, MISO, MOSI, SCK.</td></tr>
    <tr><td class="paramname">completion</td><td>A function or C++ lambda to call when the operation completes.</td></tr>
    <tr><td class="paramname">sensorType</td><td>Optional. Default to &amp;sensorTypeDHT22. Can also be &amp;sensorTypeDHT11.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is asynchronous and the completion function is called when done.</p>
<p>Normal operation takes 24 milliseconds. If a checksum failure occurs, each retry takes 2 seconds because the DHT22 cannot get new samples faster than that. So with 4 retries, it could take about 9 seconds. </p>

</div>
</div>
<a id="abb2b3630acd2f0f5541db252bb0998cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb2b3630acd2f0f5541db252bb0998cf">&#9670;&nbsp;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DHT22Gen3::loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call from <a class="el" href="class_d_h_t22_gen3.html#abb2b3630acd2f0f5541db252bb0998cf" title="Call from loop(), preferably every call to loop. ">loop()</a>, preferably every call to loop. </p>
<p>This allows the completion function to be dispatched from normal loop execution time, which allows normal calls like Particle.publish to be called safely. </p>

</div>
</div>
<a id="ae170e4f3b5b711c571bdac6eda6b2caf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae170e4f3b5b711c571bdac6eda6b2caf">&#9670;&nbsp;</a></span>withMaxTries()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_d_h_t22_gen3.html">DHT22Gen3</a>&amp; DHT22Gen3::withMaxTries </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tries</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum number of attempts to get a valid result (passes checksum). Default is 4. </p>
<p>Note that each retry takes 2.25 seconds, so you may not want to set the value too high. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_d_h_t22_gen3___r_k_8h_source.html">DHT22Gen3_RK.h</a></li>
<li>src/DHT22Gen3_RK.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
